import{R as e,M as C,T as H,a as q,r as l,u as K,b as Z,S as G,c as j,d as U,B as J}from"./vendor.b1b55d82.js";const Q=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function c(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=c(a);fetch(a.href,n)}};Q();const N=({children:t,className:i,...c})=>e.createElement("div",{className:`px-10 mx-auto lg:w-9/12 ${i||""}`,...c},t),X=()=>e.createElement("header",{className:"w-full py-9 bg-primary",style:{boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)"}},e.createElement(N,{"data-cy":"header-background"},e.createElement("h2",{"data-cy":"header-title",className:"text-2xl font-semibold text-white"},"TO DO LIST APP"))),Y="modulepreload",P={},ee="/",x=function(i,c){return!c||c.length===0?i():Promise.all(c.map(s=>{if(s=`${ee}${s}`,s in P)return;P[s]=!0;const a=s.endsWith(".css"),n=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${n}`))return;const r=document.createElement("link");if(r.rel=a?"stylesheet":Y,a||(r.as="script",r.crossOrigin=""),r.href=s,document.head.appendChild(r),a)return new Promise((f,p)=>{r.addEventListener("load",f),r.addEventListener("error",p)})})).then(()=>i())},O=({text:t,...i})=>e.createElement("button",{role:"button",className:"inline-flex items-center px-6 py-3 space-x-2 text-lg font-medium text-white rounded-[45px] bg-primary",...i},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-[24px] w-[24px]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})),e.createElement("span",null,t)),te=[{title:"Terbaru",slug:"terbaru"},{title:"Terlama",slug:"terlama"},{title:"A-Z",slug:"a_z"},{title:"Z-A",slug:"z_a"},{title:"Belum Selesai",slug:"not_finished"}],ae=({onChange:t,activeFilter:i})=>e.createElement(C,{as:"div",className:"relative"},({open:c})=>e.createElement(e.Fragment,null,e.createElement(C.Button,{className:"p-3 text-gray-500 border rounded-full","data-cy":"todo-sort-button","aria-label":"filter todolist"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-[24px] w-[24px]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"}))),e.createElement(H,{show:c,className:"absolute right-0 z-10 bg-white border rounded-md shadow-md w-[235px] top-14"},e.createElement(C.Items,{className:"flex flex-col",static:!0},te.map((s,a)=>e.createElement(C.Item,{key:a,as:"button",className:"flex items-center justify-between px-6 py-3 text-left border-b hover:bg-gray-100 last:border-0","data-cy":"sort-selection",onClick:()=>t(s.slug)},e.createElement("div",{className:"flex items-center space-x-3","data-cy":s.slug===i?"sort-selection-selected":!1},e.createElement("img",{src:`/static/icons/${s.slug}.svg`,width:18,height:18,"data-cy":"sort-selection-icon"}),e.createElement("span",{"data-cy":"sort-selection-title",className:"text-[#4A4A4A]"},s.title)),s.slug===i&&e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-[18px] w-[18px] text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})))))))),E=q.create({baseURL:"https://todo.api.devcode.gethired.id",headers:{Accept:"application/json","Content-Type":"application/json"}}),ne=l.exports.lazy(()=>x(()=>import("./index.0304ccb7.js"),["assets/index.0304ccb7.js","assets/vendor.b1b55d82.js"]).then(t=>({default:t.InformationModal}))),oe=l.exports.lazy(()=>x(()=>import("./index.2c887826.js"),["assets/index.2c887826.js","assets/vendor.b1b55d82.js","assets/index.6f971cb1.js","assets/index.35f4edec.js"]).then(t=>({default:t.EditTodoModal}))),le=l.exports.lazy(()=>x(()=>import("./index.35f4edec.js"),["assets/index.35f4edec.js","assets/vendor.b1b55d82.js","assets/index.6f971cb1.js"]).then(t=>({default:t.AddTodoModal}))),se=l.exports.lazy(()=>x(()=>import("./index.1be97c6a.js"),["assets/index.1be97c6a.js","assets/vendor.b1b55d82.js","assets/index.6f971cb1.js"]).then(t=>({default:t.DeleteModal}))),re=l.exports.lazy(()=>x(()=>import("./index.073bcd9d.js"),["assets/index.073bcd9d.js","assets/vendor.b1b55d82.js"]).then(t=>({default:t.TodoCard}))),ie=()=>{const t=K(),c=Z()?.id,[s,a]=l.exports.useState(),[n,r]=l.exports.useState(),[f,p]=l.exports.useState(),[T,v]=l.exports.useState(!1),[d,g]=l.exports.useState(),[z,b]=l.exports.useState(!1),[M,L]=l.exports.useState(!1),[F,R]=l.exports.useState("terbaru"),[w,A]=l.exports.useState({state:!1,data:null}),[_,D]=l.exports.useState({state:!1,data:void 0}),B=()=>{E.get(`/activity-groups/${c}`).then(({data:o})=>a(o))},$=o=>{E.post("/todo-items",{...o,activity_group_id:s?.id}).then(({data:u})=>{u&&n&&(r([{...u},...n]),b(!1))}).catch(()=>{b(!1),g("Gagal menambahkan activity"),v(!0)})},S=()=>{E.patch(`/activity-groups/${c}`,{title:f}).then(({data:o})=>{o&&p(o.title)})},I=(o,{...u})=>{E.patch(`/todo-items/${o}`,{...u}).then(({data:m})=>{if(m&&n){const k=n,h=n.findIndex(y=>y.id==m.id);n[h].id===o&&(k[h]=m,r(k))}})},V=o=>{!o||E.delete(`/todo-items/${o}`).then(({data:u})=>{u&&(r(n?.filter(function(m){return m.id!==o})),D({..._,state:!1}),g("Berhasil menghapus activity"),v(!0))})},W=o=>{const u=o;R(u);const m=n,k=m?.concat().sort((h,y)=>!h.title||!y.title?0:h.title.localeCompare(y.title));switch(u){case"terbaru":r(m?.concat());return;case"terlama":r(m?.concat().reverse());return;case"a_z":r(k?.concat());return;case"z_a":r(k?.concat().reverse());return;case"not_finished":r(m?.concat().sort((h,y)=>h.is_active===y.is_active?0:h.is_active?-1:1));return}};return l.exports.useEffect(()=>{p(s?.title),c&&s?.todo_items&&r(s?.todo_items)},[s]),l.exports.useEffect(()=>{B()},[]),e.createElement(l.exports.Suspense,{fallback:e.createElement(e.Fragment,null,"Loading...")},e.createElement(N,{className:"my-12"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("button",{onClick:()=>t.push("/")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-[42px] w-[42px]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","data-cy":"todo-back-button"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"}))),!M&&e.createElement("h1",{"data-cy":"todo-title",className:"text-4xl font-bold",onClick:()=>L(!0)},f),M&&e.createElement("input",{type:"text",value:f,onChange:o=>p(o.target?.value),className:"text-4xl font-bold border-b border-black bg-light focus:outline-none",onBlur:()=>{S(),L(!1)},onKeyPress:o=>{o.key==="Enter"&&(S(),L(!1))},autoFocus:!0}),e.createElement("button",{"data-cy":"todo-title-edit-button",onClick:()=>{L(!0)},"aria-label":"edit"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"text-gray-500 h-[24px] w-[24px]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})))),e.createElement("div",{className:"flex space-x-5"},e.createElement(ae,{onChange:W,activeFilter:F}),e.createElement(O,{onClick:()=>b(!0),text:"Tambah","data-cy":"todo-add-button"}))),n&&e.createElement(e.Fragment,null,n?.length===0&&e.createElement("div",{className:"relative mx-auto w-[767px] h-[490px] sm:mt-16","data-cy":"todo-empty-state",onClick:()=>b(!0)},e.createElement("img",{src:"/static/images/todo-empty-state.webp",width:767,height:490,alt:"empty"})),n?.length>0&&e.createElement("div",{className:"flex flex-col space-y-5 transition-all sm:mt-16"},n?.map((o,u)=>e.createElement(re,{key:u,onActiveToggle:m=>I(o.id,{is_active:m}),onClickDelete:()=>D({data:o,state:!0}),onClick:()=>A({data:o,state:!0}),...o}))))),e.createElement(ne,{type:"error",title:d||"",show:T,onClose:()=>v(!1)}),e.createElement(se,{cy:"modal-delete",show:_.state,data:_.data,title:e.createElement(e.Fragment,null,"Apakah anda yakin menghapus activity ",e.createElement("strong",null,"\u201C",_.data?.title,"\u201D?")),onClose:()=>D({..._,state:!1}),onDelete:o=>V(o)}),e.createElement(le,{show:z,onClose:()=>b(!1),onSubmit:o=>$(o)}),e.createElement(oe,{data:w.data,show:w.state,onClose:()=>A({...w.data,state:!1}),onSubmit:o=>{I(w?.data?.id,o),A({...w.data,state:!1})}}))},ce=l.exports.lazy(()=>x(()=>import("./index.0304ccb7.js"),["assets/index.0304ccb7.js","assets/vendor.b1b55d82.js"]).then(t=>({default:t.InformationModal}))),de=l.exports.lazy(()=>x(()=>import("./index.1be97c6a.js"),["assets/index.1be97c6a.js","assets/vendor.b1b55d82.js","assets/index.6f971cb1.js"]).then(t=>({default:t.DeleteModal}))),me=l.exports.lazy(()=>x(()=>import("./index.50d6382a.js"),["assets/index.50d6382a.js","assets/vendor.b1b55d82.js"]).then(t=>({default:t.ActivityCard}))),ue=()=>{const[t,i]=l.exports.useState(),[c,s]=l.exports.useState(!1),[a,n]=l.exports.useState({state:!1,data:void 0}),[r,f]=l.exports.useState(!1),p=()=>{s(!0),E.get("/activity-groups?email=personal.cavalera@gmail.com").then(({data:d})=>i(d)).catch(()=>i(void 0)).finally(()=>s(!1))},T=l.exports.useCallback(()=>{E.post("/activity-groups",{title:"New Activity",email:"personal.cavalera@gmail.com"}).then(({data:d})=>{d&&p()}).catch(()=>{})},[t]),v=d=>{E.delete(`/activity-groups/${d}`).then(({data:g})=>{g&&(n({...a,state:!1}),p(),f(!0))}).catch(()=>{})};return l.exports.useEffect(()=>(p(),()=>{n({...a,state:!1})}),[]),e.createElement(l.exports.Suspense,{fallback:e.createElement(e.Fragment,null,"Loading...")},e.createElement(N,{className:"my-12"},e.createElement("div",{className:"flex justify-between"},e.createElement("h1",{"data-cy":"activity-title",className:"text-4xl font-bold"},"Activity"),e.createElement(O,{onClick:()=>T(),text:"Tambah","data-cy":"activity-add-button"})),c&&e.createElement(e.Fragment,null,"Loading..."),!c&&t?.data&&e.createElement(e.Fragment,null,t.data?.length===0&&e.createElement("div",{className:"relative mx-auto w-[767px] h-[490px] sm:mt-16","data-cy":"activity-empty-state"},e.createElement("img",{src:"/static/images/first-activity.webp",width:767,height:490,alt:"empty"})),t.data?.length>0&&e.createElement("div",{className:"grid grid-cols-4 gap-5 transition-all sm:mt-16"},t.data?.map((d,g)=>e.createElement(me,{index:g,title:d.title,created_at:d.created_at,id:d.id,key:d.id,onTrashClick:()=>n({state:!0,data:d})}))))),e.createElement(de,{cy:"modal-delete",show:a.state,data:a.data,title:e.createElement(e.Fragment,null,"Apakah anda yakin menghapus activity ",e.createElement("strong",null,"\u201C",a.data?.title,"\u201D?")),onClose:()=>n({...a,state:!1}),onDelete:d=>v(d)}),e.createElement(ce,{title:"Activity berhasil dihapus",show:r,onClose:()=>f(!1)}))},pe=()=>e.createElement(e.Fragment,null,e.createElement(G,null,e.createElement(j,{exact:!0,path:"/"},e.createElement(ue,null)),e.createElement(j,{exact:!0,path:"/detail/:id"},e.createElement(ie,null))));U.render(e.createElement(e.Fragment,null,e.createElement(X,null),e.createElement(J,null,e.createElement(pe,null))),document.getElementById("root"));
